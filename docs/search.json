[{"path":"https://gustavdelius.github.io/mizerSeasonal/articles/gonadic_mass_dynamics.html","id":"deriving-the-pde-for-gonadic-mass","dir":"Articles","previous_headings":"","what":"Deriving the PDE for gonadic mass","title":"Gonadic mass dynamics","text":"Standard mizer describes number density \\(N(w,t)\\) PDE \\[ \\frac{\\partial N}{\\partial t} = -\\frac{\\partial}{\\partial w}(g\\,N)-\\mu\\,N, \\tag{1}\\] \\(g(w,t)\\) growth rate individual size \\(w\\) \\(\\mu(w,t)\\) death rate. equation simply states rate change number individuals infinitesimal size range around \\(w\\) given difference rate individuals grow size range rate grow (transport term), minus rate die (loss term). Instead number density \\(N\\) used biomass density \\(B = w\\,N\\) describe population. evolution equation can easily derived Equation 1 \\[\\begin{split} \\frac{\\partial B}{\\partial t} &= w\\frac{\\partial N}{\\partial t} = -w\\frac{\\partial}{\\partial w}\\left(g\\,\\frac{B}{w}\\right)-\\mu\\,B,\\\\ &=-\\frac{\\partial}{\\partial w}\\left(g\\,B\\right)+g\\,\\frac{B}{w}-\\mu\\,B. \\end{split}\\] intuitive: addition transport term loss term now also source term \\(g B/w = gN\\) representing coming growth taking place within infinitesimal size class. now denote \\(Q(w,t)\\) total gonadic biomass density \\(G(w,t)\\) gonadic growth rate individual size \\(w\\) (reproducing), satisfy analogous equation \\[ \\frac{\\partial Q}{\\partial t} =-\\frac{\\partial}{\\partial w}\\left(g\\,Q\\right)+G\\,N-\\mu\\,Q-r\\,Q, \\] additional loss term representing release gonadic mass reproduction. release rate \\(r(w,t)\\) encode seasonality reproduction. mizer, total energy \\(E_r\\) available growth reproduction split \\(g=E_r(1-\\psi)\\) \\(G=E_r\\psi\\). Thus \\(G=g\\,\\psi/(1-\\psi)\\). Instead considering total gonadic biomass density \\(Q(w,t)\\), consider gonadic mass \\(q(w,t)\\) individual fish size \\(w\\), given \\[ q= \\frac{Q}{N}. \\] Let’s derive evolution PDE: \\[\\begin{split} \\frac{\\partial q}{\\partial t} &= \\frac{1}{N}\\frac{\\partial Q}{\\partial t}- \\frac{Q}{N^2}\\frac{\\partial N}{\\partial t}\\\\ &=\\frac{1}{N}\\left(-\\frac{\\partial}{\\partial w}\\left(g\\,Q\\right)+G\\,N-\\mu\\,Q-r\\,Q\\right) -\\frac{Q}{N^2}\\left(-\\frac{\\partial}{\\partial w}(g\\,N)-\\mu\\,N\\right). \\end{split} \\tag{2}\\] simplify observe two mortality terms cancel \\[\\begin{split} \\frac{Q}{N^2}\\frac{\\partial}{\\partial w}(g\\,N) &=\\frac{q}{N}\\frac{\\partial}{\\partial w}\\left(g\\,\\frac{Q}{q}\\right)\\\\ &=\\frac{1}{N}\\frac{\\partial}{\\partial w}\\left(g\\,Q\\right) -g\\,\\frac{\\partial q}{\\partial w}. \\end{split}\\] Substituting Equation 2 cancelling terms gives \\[ \\frac{\\partial q}{\\partial t}=G-g\\,\\frac{\\partial q}{\\partial w}-r\\, q. \\tag{3}\\] point feel bit stupid realise \\[ \\frac{dq(w,t)}{dt}=\\frac{\\partial q(w,t)}{\\partial t}+ \\frac{\\partial q(w,t)}{\\partial w}\\frac{dw}{dt} \\] \\(dw/dt = g\\), Equation 3 reduces \\[ \\frac{dq}{dt}=G-r\\,q, \\tag{4}\\] written immediately, given definition \\(G\\). equation good starting point deriving PDE Equation 3. equations species specific. particular one gonadic mass function \\(q_i(w,t)\\) species \\(\\) need specify one rate function \\(r_i(w,t)\\) species \\(\\). need specify mass-specific release rate \\(r(w,t)\\). determines total reproduction rate \\[\\begin{equation} R_p(t)=\\frac{\\epsilon}{2w_0}\\int N(w,t)q(w,t)r(w,t)dw. \\end{equation}\\] difficult know choose mass-specific rate \\(r(w,t)\\) produce observed egg production rate \\(R_p(t)\\). ’ll probably trial error initially. rate \\(r(w,t)\\) become large least year gonadic mass goes back close zero. One possibility make \\(r(w,t)\\) independent \\(w\\).","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/articles/gonadic_mass_dynamics.html","id":"numerical-implementation","dir":"Articles","previous_headings":"","what":"Numerical implementation","title":"Gonadic mass dynamics","text":"solve PDE Equation 3 use upwind-difference scheme used mizer solve PDE Equation 1. Let us therefore recall details scheme. discretise Equation 1 follows: \\[     \\frac{N_w^{t+1}-N_w^t}{\\Delta t}=-\\frac{g_w^tN_w^{t+1}-g_{w-1}^tN_{w-1}^{t+1}}{\\Delta w}-\\mu_w^t\\,N_w^{t+1}. \\tag{5}\\] use \\(w\\) \\(t\\) denote integer indices discretised weight discretised time respectively. Multiplying \\(\\Delta t\\) collecting terms gives \\[     N_w^{t+1}\\left(1+g_w^t\\frac{\\Delta t}{\\Delta w}+\\mu_w^t\\,\\Delta t\\right)=     N_{w-1}^{t+1}\\left(g_{w-1}^t\\frac{\\Delta t}{\\Delta w}\\right)     +N_w^t. \\tag{6}\\] Solving \\(N_w^{t+1}\\) gives \\[     N_w^{t+1}=\\frac{S_w^t-A_w^tN_{w-1}^{t+1}}{B_w^t}, \\tag{7}\\] \\[ \\begin{split}    A_w^t&=-g_{w-1}^t\\frac{\\Delta t}{\\Delta w},\\\\    B_w^t&=1+g_w^t\\frac{\\Delta t}{\\Delta w}+\\mu^t_w\\,\\Delta t,\\\\    S_w^t&=N_w^t. \\end{split} \\tag{8}\\] Given initial value boundary condition encoding influx new-born individuals smallest size class, recurrence relation Equation 7 allows mizer calculate \\(N_w^{t+1}\\) size classes later times. Now use scheme gonadic dynamics. discretise Equation 3 follows: \\[     \\frac{q_w^{t+1}-q_w^t}{\\Delta t}=-g_w^t\\frac{q_w^{t+1}-q_{w-1}^{t+1}}{\\Delta w}-r_w^t\\,q_w^{t+1}+G_w^t. \\] Note close equation \\(q\\) equation Equation 5 \\(N\\). Multiplying \\(\\Delta t\\) collecting terms gives \\[     q_w^{t+1}\\left(1+g_w^t\\frac{\\Delta t}{\\Delta w}+r_w^t\\,\\Delta t\\right)=     q_{w-1}^{t+1}\\left(g_w^t\\frac{\\Delta t}{\\Delta w}\\right)     +q_w^t+G_w^t\\,\\Delta t. \\] Solving \\(q_w^{t+1}\\) gives \\[     q_w^{t+1}=\\frac{s_w^t-a_w^tq_{w-1}^{t+1}}{b_w^t}, \\tag{9}\\] \\[ \\begin{split}    a_w^t&=-g_w^t\\frac{\\Delta t}{\\Delta w},\\\\    b_w^t&=1+g_w^t\\frac{\\Delta t}{\\Delta w}+r_w^t\\,\\Delta t,\\\\    s_w^t&=q_w^t+G_w^t\\,\\Delta t. \\end{split} \\tag{10}\\] Together initial value boundary condition \\(q_1^t=0\\) times smallest individuals yet gonadic mass, recurrence relation allows us calculate \\(q_w^{t+1}\\) size classes later times. Note small difference discretised equation Equation 9 \\(q\\) equation Equation 7 \\(N\\). difference lies replacing \\(A_w^t, B_w^t\\) \\(S_w^t\\) given Equation 8 \\(a_w^t, b_w^t\\) \\(s_w^t\\) given Equation 10.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/articles/gonadic_mass_dynamics.html","id":"open-problems","dir":"Articles","previous_headings":"","what":"Open problems","title":"Gonadic mass dynamics","text":"modelling cohorts mizer, diffusion terms size-spectrum dynamics become important, lead broadening cohorts. yet know required step sizes size time faithfully reproduce dynamics. large size steps lead much numerical diffusion. large time steps may lead numerical instability.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Gustav Delius. Maintainer, author, copyright holder. Michael . Spence. Author, copyright holder.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Delius G, Spence M (2024). mizerSeasonal: Implementing Seasonality Mizer. R package version 0.0.0.9002, https://github.com/gustavdelius/mizerSeasonal.","code":"@Manual{,   title = {mizerSeasonal: Implementing Seasonality in Mizer},   author = {Gustav Delius and Michael A. Spence},   year = {2024},   note = {R package version 0.0.0.9002},   url = {https://github.com/gustavdelius/mizerSeasonal}, }"},{"path":"https://gustavdelius.github.io/mizerSeasonal/index.html","id":"mizerseasonal","dir":"","previous_headings":"","what":"Implementing Seasonality in Mizer","title":"Implementing Seasonality in Mizer","text":"Implementing seasonality mizer first step implement accumulation gonadic mass throughout year release spawning periods. See “Get started” page details. related work see Datta, S. & Blanchard, J. L. effects seasonal processes size spectrum dynamics. Canadian Journal Fisheries Aquatic Sciences (2016). https://cdnsciencepub.com/doi/full/10.1139/cjfas-2015-0468","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/animateGonadSpectra.html","id":null,"dir":"Reference","previous_headings":"","what":"Animation of the gonadic mass spectra — animateGonadSpectra","title":"Animation of the gonadic mass spectra — animateGonadSpectra","text":"function creates animation gonadic mass spectra species simulation. gonadic mass spectrum size distribution total gonadic mass species.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/animateGonadSpectra.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Animation of the gonadic mass spectra — animateGonadSpectra","text":"","code":"animateGonadSpectra(   sim,   species = NULL,   time_range,   wlim = c(NA, NA),   ylim = c(NA, NA),   power = 0 )"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/animateGonadSpectra.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Animation of the gonadic mass spectra — animateGonadSpectra","text":"sim MizerSim object species Name vector names species plotted. default species plotted. time_range time range animate . Either vector values vector min max time. Default entire time range simulation. wlim numeric vector length two providing lower upper limits w axis. Use NA refer existing minimum maximum. ylim numeric vector length two providing lower upper limits y axis. Use NA refer existing minimum maximum. values 1e-20 always cut . power gonadic mass density plotted number density times per-capita gonadic mass times weight raised power. default power = o gives gonadic mass density, whereas power =   1 gives gonadic mass density respect logarithmic size bins.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/animateGonadSpectra.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Animation of the gonadic mass spectra — animateGonadSpectra","text":"plotly object","code":""},{"path":[]},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/datta_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Parameters used by Datta & Blanchard (2016) — datta_params","title":"Parameters used by Datta & Blanchard (2016) — datta_params","text":"MizerParams object approximation model used Datta & Blanchard (2016), allows reproduce results extend full gonadic mass dynamics implemented mizerSeasonal.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/datta_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parameters used by Datta & Blanchard (2016) — datta_params","text":"","code":"datta_params"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/datta_params.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Parameters used by Datta & Blanchard (2016) — datta_params","text":"MizerParams object","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/datta_params.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Parameters used by Datta & Blanchard (2016) — datta_params","text":"Datta, S. & Blanchard, J. L. \"effects seasonal processes size spectrum dynamics\". Canadian Journal Fisheries Aquatic Sciences (2016). https://cdnsciencepub.com/doi/full/10.1139/cjfas-2015-0468","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/datta_params.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Parameters used by Datta & Blanchard (2016) — datta_params","text":"paper \"effects seasonal processes size spectrum dynamics\" Samik Datta Julia Blanchard, published Can. J. Fish. Aquat. Sci. 73, 598–610 (2016), first paper investigate seasonal processes context size spectrum dynamics. authors used early version mizer code modified. code available https://figshare.com/s/e75f29d4cc9b94ae393b. MizerParams object based parameters used paper. However choice size bins numerical implementation mizer equations different one used paper. paper used wider size-bins resource spectrum fish spectrum. modern mizer code longer supports . MizerParams object uses size bins resource fish spectra. Like model Datta Blanchard, use 100 size bins fish spectra use 180 size bins full spectra instead 130. initial state MizerParams object set steady state model. script created MizerParams object available https://github.com/gustavdelius/mizerSeasonal/blob/main/data-raw/datta_params.R.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/getTimeseries.html","id":null,"dir":"Reference","previous_headings":"","what":"Get time series of summary functions from simulation — getTimeseries","title":"Get time series of summary functions from simulation — getTimeseries","text":"Given function can calculate vector quantities interest single time species, function returns array (time x species) values time steps saved simulation.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/getTimeseries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get time series of summary functions from simulation — getTimeseries","text":"","code":"getTimeseries(sim, func = getRDI, ...)"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/getTimeseries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get time series of summary functions from simulation — getTimeseries","text":"sim MizerSim object func function calculating quantities single time step ... Unused","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/getTimeseries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get time series of summary functions from simulation — getTimeseries","text":"matrix (time x species)","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/gonadDynamics.html","id":null,"dir":"Reference","previous_headings":"","what":"Update the gonadic mass using a seasonal reproduction rate — gonadDynamics","title":"Update the gonadic mass using a seasonal reproduction rate — gonadDynamics","text":"Update gonadic mass using seasonal reproduction rate","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/gonadDynamics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update the gonadic mass using a seasonal reproduction rate — gonadDynamics","text":"","code":"gonadDynamics(params, n_other, rates, t, dt, ...)"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/gonadDynamics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update the gonadic mass using a seasonal reproduction rate — gonadDynamics","text":"params MizerParams object n_other model components rates Previously calculated rates, including particular e_repro t current time dt time step size ... Unused","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/gonadDynamics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update the gonadic mass using a seasonal reproduction rate — gonadDynamics","text":"Array (species x size) current gonadic mass individual.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/mizerSeasonal-package.html","id":null,"dir":"Reference","previous_headings":"","what":"mizerSeasonal: Extends the mizer package to allow for seasonal reproduction — mizerSeasonal-package","title":"mizerSeasonal: Extends the mizer package to allow for seasonal reproduction — mizerSeasonal-package","text":"extension package mizer package","code":""},{"path":[]},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/mizerSeasonal-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"mizerSeasonal: Extends the mizer package to allow for seasonal reproduction — mizerSeasonal-package","text":"Maintainer: Gustav Delius gustav.delius@york.ac.uk (ORCID) [copyright holder] Authors: Michael . Spence michael.spence@cefas.gov.uk (ORCID) [copyright holder]","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/plotGonadsVsTime.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot per-capita gonadic mass through time at a given size — plotGonadsVsTime","title":"Plot per-capita gonadic mass through time at a given size — plotGonadsVsTime","text":"function plots gonadic mass individual given size time species.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/plotGonadsVsTime.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot per-capita gonadic mass through time at a given size — plotGonadsVsTime","text":"","code":"plotGonadsVsTime(sim, time_range, sizes = sim@params@species_params$w_max)"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/plotGonadsVsTime.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot per-capita gonadic mass through time at a given size — plotGonadsVsTime","text":"sim MizerSim object time_range time range plot sizes vector sizes species plot gonadic mass individual size.","code":""},{"path":[]},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/plotRDD.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot density-dependent reproduction rate over time — plotRDD","title":"Plot density-dependent reproduction rate over time — plotRDD","text":"Plot density-dependent reproduction rate time","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/plotRDD.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot density-dependent reproduction rate over time — plotRDD","text":"","code":"plotRDD(   sim,   sim2,   species = NULL,   total = FALSE,   log = FALSE,   highlight = NULL,   return_data = FALSE,   ... )"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/plotRDD.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot density-dependent reproduction rate over time — plotRDD","text":"sim object class MizerSim sim2 optional second object class MizerSim. provided RDDs shown plot bolder lines. species species selected. Optional. default target species selected. vector species names, numeric vector species indices, logical vector indicating species whether selected (TRUE) . total boolean value determines whether total species system plotted well. Note even plot shows selection species, total including species. Default FALSE. log Boolean whether RDD plotted logarithmic axis. Defaults true. highlight Name vector names species highlighted. return_data boolean value determines whether formatted data used plot returned instead plot . Default value FALSE ... arguments (currently unused)","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/plotRDD.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot density-dependent reproduction rate over time — plotRDD","text":"ggplot2 object, unless return_data = TRUE, case data frame three variables 'Year', 'RDD', 'Species' returned.","code":""},{"path":[]},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/plotRDI.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot density-independent reproduction rate over time — plotRDI","title":"Plot density-independent reproduction rate over time — plotRDI","text":"Plot density-independent reproduction rate time","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/plotRDI.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot density-independent reproduction rate over time — plotRDI","text":"","code":"plotRDI(   sim,   sim2,   species = NULL,   total = FALSE,   log = FALSE,   highlight = NULL,   return_data = FALSE,   ... )"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/plotRDI.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot density-independent reproduction rate over time — plotRDI","text":"sim object class MizerSim sim2 optional second object class MizerSim. provided RDIs shown plot bolder lines. species species selected. Optional. default target species selected. vector species names, numeric vector species indices, logical vector indicating species whether selected (TRUE) . total boolean value determines whether total species system plotted well. Note even plot shows selection species, total including species. Default FALSE. log Boolean whether RDI plotted logarithmic axis. Defaults true. highlight Name vector names species highlighted. return_data boolean value determines whether formatted data used plot returned instead plot . Default value FALSE ... arguments (currently unused)","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/plotRDI.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot density-independent reproduction rate over time — plotRDI","text":"ggplot2 object, unless return_data = TRUE, case data frame three variables 'Year', 'RDI', 'Species' returned.","code":""},{"path":[]},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBetaHazardRelease.html","id":null,"dir":"Reference","previous_headings":"","what":"Beta hazard mass-specific gonad release rate — seasonalBetaHazardRelease","title":"Beta hazard mass-specific gonad release rate — seasonalBetaHazardRelease","text":"Uses formula $$r(w, t) = r(t) = \\frac{f(t-\\lfloor t \\rfloor)}{1 - F(t-\\lfloor t \\rfloor)}$$ \\(f(t)\\) \\(F(t)\\) probability density function cumulative distribution function beta distribution (see see ?dbeta) parameters shape1 = beta_a shape2 = beta_b. mizer measures time years, \\(t-\\lfloor t \\rfloor\\) gives time within year \\(r(t)\\) periodic function period one year.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBetaHazardRelease.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Beta hazard mass-specific gonad release rate — seasonalBetaHazardRelease","text":"","code":"seasonalBetaHazardRelease(t, params)"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBetaHazardRelease.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Beta hazard mass-specific gonad release rate — seasonalBetaHazardRelease","text":"t time calculate reproduction rate params MizerParams object","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBetaHazardRelease.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Beta hazard mass-specific gonad release rate — seasonalBetaHazardRelease","text":"vector species-specific release rates time t","code":""},{"path":[]},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBetaRelease.html","id":null,"dir":"Reference","previous_headings":"","what":"Beta distributed gonad release rate — seasonalBetaRelease","title":"Beta distributed gonad release rate — seasonalBetaRelease","text":"Uses formula $$r(w, t) = r(t) = f(t-\\lfloor t \\rfloor)$$ \\(f(t)\\) probability density function beta distribution (see see ?dbeta) parameters shape1 = beta_a shape2 = beta_b. mizer measures time years, \\(t-\\lfloor t \\rfloor\\) gives time within year \\(r(t)\\) periodic function period one year.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBetaRelease.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Beta distributed gonad release rate — seasonalBetaRelease","text":"","code":"seasonalBetaRelease(t, params)"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBetaRelease.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Beta distributed gonad release rate — seasonalBetaRelease","text":"t time calculate reproduction rate params MizerParams object","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBetaRelease.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Beta distributed gonad release rate — seasonalBetaRelease","text":"vector species-specific release rates time t","code":""},{"path":[]},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBevertonHoltRDD.html","id":null,"dir":"Reference","previous_headings":"","what":"Beverton Holt function to calculate density-dependent reproduction rate — seasonalBevertonHoltRDD","title":"Beverton Holt function to calculate density-dependent reproduction rate — seasonalBevertonHoltRDD","text":"Takes density-independent rates \\(R_{di}(t)\\) egg production returns reduced, density-dependent reproduction rates \\(R_{dd}(t)\\) given $$R_{dd}(t) = R_{di}(t) \\frac{R_{max}(t)}{R_{di}(t) + R_{max}(t)}$$ \\(R_{max}(t)\\) maximum possible reproduction rates must specified array (time x species) saved other_params$R_max slot MizerParams object. simply time-dependent version mizer::BevertonHoltRDD(). (quantities equation species-specific dropped species index simplicity.)","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBevertonHoltRDD.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Beverton Holt function to calculate density-dependent reproduction rate — seasonalBevertonHoltRDD","text":"","code":"seasonalBevertonHoltRDD(rdi, params, t, ...)"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBevertonHoltRDD.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Beverton Holt function to calculate density-dependent reproduction rate — seasonalBevertonHoltRDD","text":"rdi Vector density-independent reproduction rates \\(R_{di}\\) species. params params object must contain other_params$R_max t time calculate RDD ... Unused","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalBevertonHoltRDD.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Beverton Holt function to calculate density-dependent reproduction rate — seasonalBevertonHoltRDD","text":"Vector density-dependent reproduction rates.","code":""},{"path":[]},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalEncounter.html","id":null,"dir":"Reference","previous_headings":"","what":"Get encounter rate that includes gonadic mass of prey — seasonalEncounter","title":"Get encounter rate that includes gonadic mass of prey — seasonalEncounter","text":"mizerEncounter() function core mizer except prey mass sum somatic mass \\(w_p\\) gonadic mass \\(q(w_p)\\). function automatically registered model's encounter rate function setSeasonalReproduction() called include_gonads = TRUE.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalEncounter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get encounter rate that includes gonadic mass of prey — seasonalEncounter","text":"","code":"seasonalEncounter(params, n, n_pp, n_other, t, ...)"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalEncounter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get encounter rate that includes gonadic mass of prey — seasonalEncounter","text":"params MizerParams object n matrix species abundances (species x size). n_pp vector resource abundance size n_other list abundances dynamical components ecosystem t time calculation ... Unused","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalEncounter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get encounter rate that includes gonadic mass of prey — seasonalEncounter","text":"named two dimensional array (predator species x predator size) encounter rates.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalGaussianRelease.html","id":null,"dir":"Reference","previous_headings":"","what":"Gaussian mass-specific gonad release rate — seasonalGaussianRelease","title":"Gaussian mass-specific gonad release rate — seasonalGaussianRelease","text":"Uses formula $$r(w, t) = r(t) = r_0 \\exp{\\left(-\\dfrac{(t-\\lfloor{t}\\rfloor-t_0)^2}{2\\sigma^2}\\right)}$$ parameters \\(r_0, \\sigma\\) \\(t_0\\) given new columns sr_r0, sr_sigma sr_t0 species parameter data frame. mizer measures time years, \\(t-\\lfloor t \\rfloor\\) gives time within year \\(r(t)\\) periodic function period one year.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalGaussianRelease.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gaussian mass-specific gonad release rate — seasonalGaussianRelease","text":"","code":"seasonalGaussianRelease(t, params)"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalGaussianRelease.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gaussian mass-specific gonad release rate — seasonalGaussianRelease","text":"t time calculate release rate params MizerParams object","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalGaussianRelease.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gaussian mass-specific gonad release rate — seasonalGaussianRelease","text":"vector species-specific release rates time t","code":""},{"path":[]},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalRDI.html","id":null,"dir":"Reference","previous_headings":"","what":"Get density-independent rate of seasonal reproduction — seasonalRDI","title":"Get density-independent rate of seasonal reproduction — seasonalRDI","text":"function calculates density-independent rate offspring production species. rate offspring production given $$R_{di}(t) =\\frac{\\epsilon}{2w_0}\\int N(w,t)q(w,t)r(w,t)dw$$ \\(q(w,t)\\) gonadic mass individual, \\(r(w,t)\\) mass-specific gonad release rate, \\(N(w,t)\\) abundance density, \\(\\epsilon\\) reproductive efficiency \\(w_0\\) weight offspring.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalRDI.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get density-independent rate of seasonal reproduction — seasonalRDI","text":"","code":"seasonalRDI(params, n, n_other, t, dt = 0.1, ...)"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalRDI.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get density-independent rate of seasonal reproduction — seasonalRDI","text":"params MizerParams object n Species abundances current time step n_other model components current time step. include particular gonadic biomass n_other$gonads. t current time dt time step size ... Unused","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalRDI.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get density-independent rate of seasonal reproduction — seasonalRDI","text":"numeric vector rate egg production species.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalVonMisesRDD.html","id":null,"dir":"Reference","previous_headings":"","what":"von-Mises distributed reproduction rate independent of abundance — seasonalVonMisesRDD","title":"von-Mises distributed reproduction rate independent of abundance — seasonalVonMisesRDD","text":"function calculates mass-specific reproduction rate species given time. reproduction rate given $$r(t) = r_0 \\frac{\\exp(\\kappa \\cos(2\\pi(t - \\mu)))}{2\\pi I_0(\\kappa)}$$ \\(r_0\\) amplitude reproduction rate, \\(\\kappa\\) concentration parameter von-Mises distribution, \\(\\mu\\) mean von-Mises distribution. parameters must supplied slots rdd_vonMises_r0, rdd_vonMises_kappa rdd_vonMises_mu species_params data frame params object.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalVonMisesRDD.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"von-Mises distributed reproduction rate independent of abundance — seasonalVonMisesRDD","text":"","code":"seasonalVonMisesRDD(params, t, ...)"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalVonMisesRDD.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"von-Mises distributed reproduction rate independent of abundance — seasonalVonMisesRDD","text":"params MizerParams object t time calculate RDD ... Unused","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalVonMisesRDD.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"von-Mises distributed reproduction rate independent of abundance — seasonalVonMisesRDD","text":"vector species-specific reproduction rates","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalVonMisesRDD.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"von-Mises distributed reproduction rate independent of abundance — seasonalVonMisesRDD","text":"Note reproduction rate independent rate species release gonadic mass reproduction thus used aid process setting model. replaced another reproduction rate function simulating dynamics model.","code":""},{"path":[]},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalVonMisesRelease.html","id":null,"dir":"Reference","previous_headings":"","what":"von-Mises distributed gonad release rate — seasonalVonMisesRelease","title":"von-Mises distributed gonad release rate — seasonalVonMisesRelease","text":"Uses formula $$r(w, t) = r(t) = r_0 \\frac{\\exp(\\kappa \\cos(2\\pi(t - \\mu)))}{2\\pi I_0(\\kappa)}$$ parameters taken vonMises_r0, vonMises_kappa vonMises_mu columns species_params data frame params.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalVonMisesRelease.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"von-Mises distributed gonad release rate — seasonalVonMisesRelease","text":"","code":"seasonalVonMisesRelease(t, params, ...)"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalVonMisesRelease.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"von-Mises distributed gonad release rate — seasonalVonMisesRelease","text":"t time calculate release rate params MizerParams object ... Unused","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonalVonMisesRelease.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"von-Mises distributed gonad release rate — seasonalVonMisesRelease","text":"vector species-specific release rates time t","code":""},{"path":[]},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonal_resource_semichemostat.html","id":null,"dir":"Reference","previous_headings":"","what":"Seasonal semichemostat resource dynamics — seasonal_resource_semichemostat","title":"Seasonal semichemostat resource dynamics — seasonal_resource_semichemostat","text":"implements standard semichemostat dynamics resource (see mizer::resource_semichemostat()) time-dependent carrying capacity. carrying capacity given $$c_R(w,t) = (1 + \\text{maxR} \\cdot \\text{vonMises}(t, \\mu, \\kappa)) c_R(w)$$ \\(c_R(w)\\) standard carrying capacity, \\(\\mu\\) mean von-Mises distribution, \\(\\kappa\\) concentration parameter von-Mises distribution. parameters must supplied rp$maxR, rp$mu rp$kappa slots resource_params slot params object.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonal_resource_semichemostat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Seasonal semichemostat resource dynamics — seasonal_resource_semichemostat","text":"","code":"seasonal_resource_semichemostat(   params,   n,   n_pp,   n_other,   rates,   t,   dt,   resource_rate,   resource_capacity,   ... )"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonal_resource_semichemostat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Seasonal semichemostat resource dynamics — seasonal_resource_semichemostat","text":"params MizerParams object n matrix species abundances (species x size) n_pp vector resource abundance size n_other list abundances components rates list rates returned mizerRates() t current time dt Time step resource_rate Resource replenishment rate resource_capacity Resource carrying capacity ... Unused","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/seasonal_resource_semichemostat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Seasonal semichemostat resource dynamics — seasonal_resource_semichemostat","text":"Vector containing resource spectrum next timestep","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/setSeasonalReproduction.html","id":null,"dir":"Reference","previous_headings":"","what":"Set seasonal reproduction — setSeasonalReproduction","title":"Set seasonal reproduction — setSeasonalReproduction","text":"returns new model reproduction rate varies throughout year. See details .","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/setSeasonalReproduction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set seasonal reproduction — setSeasonalReproduction","text":"","code":"setSeasonalReproduction(   params,   release_func = \"seasonalVonMisesRelease\",   RDD = \"seasonalBevertonHoltRDD\",   include_gonads = TRUE )"},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/setSeasonalReproduction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set seasonal reproduction — setSeasonalReproduction","text":"params MizerParams object release_func Name function giving time-dependent mass-specific release rate. function take time MizerParams object arguments return vector reproduction rates species. RDD Name function calculating density-dependent reproduction rate RDD. include_gonads Boolean. TRUE (default) gonadic mass included prey encounter rate.","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/setSeasonalReproduction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set seasonal reproduction — setSeasonalReproduction","text":"MizerParams object seasonal reproduction","code":""},{"path":"https://gustavdelius.github.io/mizerSeasonal/reference/setSeasonalReproduction.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set seasonal reproduction — setSeasonalReproduction","text":"function change rate fish invest energy reproduction. however changes happens investment. Rather released immediately produce offspring, used accumulate gonadic mass. specify function gives time-dependent mass-specific rate \\(r(t)\\) gonadic mass released reproduction. package provides several candidate functions calculating release rates: seasonalVonMisesRelease(), seasonalBetaHazardRelease(), seasonalBetaRelease() seasonalGaussianRelease(), can use templates writing release functions. also specify non-linear function calculates density-dependent reproduction rate \\(R_{dd}\\) density-independent rate \\(R_{di}\\) egg production.","code":""}]
